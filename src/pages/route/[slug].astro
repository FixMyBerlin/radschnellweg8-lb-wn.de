---
export const prerender = true
import LayoutArticle from '@shared/layouts/LayoutArticle.astro'
import RoutespageRoutesegment from '@shared/sections/RoutespageRoutesegment.astro'
import { getCollection, type CollectionEntry } from 'astro:content'

export type Segment = CollectionEntry<'routesegments'>

type Page = {
  params: { slug: string }
  props: Segment
}
export async function getStaticPaths() {
  const segments = await getCollection('routesegments')
  const pages: Page[] = segments.map((segment) => {
    return {
      params: { slug: segment.slug },
      props: segment,
    }
  })
  return pages
}
type Props = Page['props']
---

<LayoutArticle>
  <RoutespageRoutesegment route={Astro.props} />
</LayoutArticle>
