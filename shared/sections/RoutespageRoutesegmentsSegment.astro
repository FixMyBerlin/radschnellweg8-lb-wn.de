---
import { COLORSCLASSES } from '@config/styles'
import { mdxComponentsAstro } from '@shared/cms/components/mdxComponentsAstro.astro'
import Section from '@shared/layouts/Section.astro'
import { clsx } from 'clsx'
import type { Segment } from './RoutespageRoutesegments.astro'

type Props = { route: Segment }
const { route } = Astro.props
const { Content } = await route.render()
---

<Section prose>
  <header id={route.slug} class="scroll-m-8">
    <h2>{route.data.title}</h2>
    <p>Baulasttr√§ger/in: {route.data.operator}</p>
  </header>

  <article>
    <Content components={mdxComponentsAstro} />
  </article>

  {
    route.data.details.length > 0 ? (
      <>
        <h3>Detailinfos</h3>
        <ol class="not-prose divide-y divide-gray-200 border-y">
          {route.data.details.map((detail) => {
            return (
              <li class="flex gap-6 py-5">
                <span
                  class={clsx(
                    COLORSCLASSES.faqNumberBg,
                    'flex h-10 w-10 flex-none items-center justify-center rounded-full pt-1 text-lg text-white shadow-lg',
                  )}
                  aria-hidden="true"
                >
                  {detail.position}
                </span>
                <div>
                  <h3 class="text-lg font-medium text-gray-900">{detail.title}</h3>
                  <p class="leading-snug text-gray-500">{detail.description}</p>
                </div>
              </li>
            )
          })}
        </ol>
      </>
    ) : null
  }
</Section>
